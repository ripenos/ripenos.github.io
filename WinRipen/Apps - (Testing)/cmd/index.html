<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGOS | Terminal</title>
    <style>
        body {
            background-color: transparent;
            color: orange;
            font-family: monospace;
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
        }

        ::selection{background: rgb(255, 136, 0); color: #111111;}
        
        ::-webkit-scrollbar {
            --scroll: rgb(255 255 255 / 80%);
            --scrollbar-top-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 16.981c-1.074 0-1.648-1.265-.941-2.073l5.522-6.311a1.75 1.75 0 0 1 2.634 0l5.522 6.311c.707.808.133 2.073-.941 2.073H6.102z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
            --scrollbar-right-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M9 17.898c0 1.074 1.265 1.648 2.073.941l6.311-5.522a1.75 1.75 0 0 0 0-2.634l-6.311-5.522C10.265 4.454 9 5.028 9 6.102v11.796z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
            --scrollbar-bottom-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 8c-1.074 0-1.648 1.265-.941 2.073l5.522 6.311a1.75 1.75 0 0 0 2.634 0l5.522-6.311c.707-.808.133-2.073-.941-2.073H6.102z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
            --scrollbar-left-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M15 17.898c0 1.074-1.265 1.648-2.073.941l-6.311-5.522a1.75 1.75 0 0 1 0-2.634l6.311-5.522c.808-.707 2.073-.133 2.073.941v11.796z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
            width: 14px;
            height: 14px;
            border-radius: 7px;
            transition: all 0.3s;
        }
        ::-webkit-scrollbar:vertical:hover {
            background: var(--scrollbar-bottom-btn) 0% calc(100% - 3px) / contain
                no-repeat,
            var(--scrollbar-top-btn) 0% calc(0% + 3px) / contain no-repeat,
            var(--scroll);
        }
        ::-webkit-scrollbar:horizontal:hover {
            background: var(--scrollbar-right-btn) calc(100% - 3px) 0% / contain no-repeat,
            var(--scrollbar-left-btn) calc(0% + 3px) 0% / contain no-repeat,
            var(--scroll);
        }
        ::-webkit-scrollbar-thumb {
            display: none;
            background: rgba(0, 0, 0, 0.5);
            background-clip: padding-box;
            border: 6px solid transparent;
            border-radius: 14px;
            transition: all 0.3s;
        }
        ::-webkit-scrollbar-thumb:hover {
            border: 4px solid transparent;
        }
        ::-webkit-scrollbar-button:single-button {
            height: 14px;
        }
        :hover::-webkit-scrollbar-thumb {
            display: block;
        }
        ::-webkit-scrollbar,
        ::-webkit-scrollbar {
            --scroll: rgb(44 44 44 / 25%);
            --scrollbar-top-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 16.981c-1.074 0-1.648-1.265-.941-2.073l5.522-6.311a1.75 1.75 0 0 1 2.634 0l5.522 6.311c.707.808.133 2.073-.941 2.073H6.102z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
            --scrollbar-right-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M9 17.898c0 1.074 1.265 1.648 2.073.941l6.311-5.522a1.75 1.75 0 0 0 0-2.634l-6.311-5.522C10.265 4.454 9 5.028 9 6.102v11.796z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
            --scrollbar-bottom-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 8c-1.074 0-1.648 1.265-.941 2.073l5.522 6.311a1.75 1.75 0 0 0 2.634 0l5.522-6.311c.707-.808.133-2.073-.941-2.073H6.102z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
            --scrollbar-left-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M15 17.898c0 1.074-1.265 1.648-2.073.941l-6.311-5.522a1.75 1.75 0 0 1 0-2.634l6.311-5.522c.808-.707 2.073-.133 2.073.941v11.796z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
        }
        ::-webkit-scrollbar-thumb,
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            background-clip: padding-box;
        }

        .terminal {
            width: 100%;
            height: 100%;
            overflow: hidden;
            overflow-y: scroll;
            padding: 10px;
            box-sizing: border-box;
            background-color: transparent;
        }

        .output {
            white-space: pre-wrap;
            margin-bottom: 10px;
        }

        .input-line {
            display: flex;
        }

        .prompt {
            margin-right: 5px;
        }

        .command-input {
            background: none;
            border: none;
            color: white;
            font-family: monospace;
            flex-grow: 1;
            outline: none;
        }
    </style>
</head>
<body>
    <div id="terminal" class="terminal">
        <p style="margin: 0;"><b>RGOS v5.0 - Windows Ripen version 1.3 | (c) Ripenos All rights reserved.</b></p>
        <p>For help on available commands type "help"</p>
        <div id="output" class="output"></div>
        <div class="input-line">
            <span id="prompt" class="prompt">></span>
            <input type="text" id="commandInput" class="command-input" autofocus>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const outputElement = document.getElementById('output');
            const commandInput = document.getElementById('commandInput');

            const commands = {
                help: 'Available commands:<ol><li>help          - Displays all commands </li><li>echo [text]   - Displays your input text </li><li>clear         - Clears the terminal </li><li>date          - Displays the date, time, and etc. </li><li>ip            - Displays a mock IP address </li><li>version       - Displays the version of the terminal </li><li>define [word] - Define the input word with meaning, and kind</li><li>Arithmetic operations:<ul><li>[number1]+[number2] - Additon</li><li>[number1]-[number2] - Subtraction</li><li>[number1]*[number2] - Multiplication</li><li>[number1]/[number2] - Division</li></ul></li></ol>',
                echo: (args) => args.join(' '),
                clear: () => {
                    outputElement.innerHTML = '';
                    return '';
                },
                date: () => {
                    const now = new Date();
                    return now.toString();
                },
                ip: () => {
                    return '192.168.1.1';
                },
                version: () => 'Windows Ripen v1.3 - terminal v1.0 | RGOS v5.0 Bundled Launch',
                default: 'Command not found. Type "help" for a list of commands.',
                define: async (args) => {
                    if (args.length === 0) {
                        return 'Please provide a word to define.';
                    }
                    const word = args[0];
                    try {
                        const response = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
                        if (!response.ok) {
                            throw new Error('Word not found');
                        }
                        const data = await response.json();
                        return data[0].meanings.map(meaning => `${meaning.partOfSpeech}: ${meaning.definitions[0].definition}`).join('\n');
                    } catch (error) {
                        return `Error: ${error.message}`;
                    }
                }
            };

            function handleCommand(command) {
                const arithmeticMatch = command.match(/^(\d+)\s*([\+\-\*\/])\s*(\d+)$/);
                if (arithmeticMatch) {
                    const num1 = parseFloat(arithmeticMatch[1]);
                    const operator = arithmeticMatch[2];
                    const num2 = parseFloat(arithmeticMatch[3]);
                    switch (operator) {
                        case '+':
                            return (num1 + num2).toString();
                        case '-':
                            return (num1 - num2).toString();
                        case '*':
                            return (num1 * num2).toString();
                        case '/':
                            return num2 !== 0 ? (num1 / num2).toString() : 'Error: Division by zero';
                        default:
                            return 'Invalid operation';
                    }
                }

                const [cmd, ...args] = command.split(' ');
                const response = commands[cmd] ? (typeof commands[cmd] === 'function' ? commands[cmd](args) : commands[cmd]) : commands.default;

                if (response instanceof Promise) {
                    response.then(res => appendOutput(res));
                } else {
                    return response;
                }
            }

            function appendOutput(text) {
                const outputLine = document.createElement('div');
                outputLine.innerHTML = text;
                outputElement.appendChild(outputLine);
                outputElement.scrollBottom = outputElement.scrollHeight;
            }

            commandInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    const command = commandInput.value.trim();
                    if (command) {
                        appendOutput(`$ <font color="white">${command}</font>`);
                        const response = handleCommand(command);
                        if (response && !(response instanceof Promise)) {
                            appendOutput(response);
                        }
                    }
                    commandInput.value = '';
                }
            });
        });
    </script>
</body>
</html>
